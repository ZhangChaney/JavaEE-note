# 012-日志配置

在Spring Boot中配置日志通常涉及以下几个步骤：

1. 在`application.properties`或`application.yml`文件中设置日志级别。
2. 如果需要，在`src/main/resources`目录下添加一个日志配置文件，如`logback-spring.xml`或`logback.xml`。

以下是一个简单的例子：

`application.properties`配置文件中设置日志级别：

```python
logging.level.root=WARN
logging.level.org.springframework.web=DEBUG
logging.level.com.example.yourapp=INFO
```

或者在`application.yml`中设置：

```yaml
logging:
  level:
    root: WARN
    org.springframework.web: DEBUG
    com.javaee: INFO
```

然后，在`src/main/resources`目录下创建`logback-spring.xml`配置文件：

```xml
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <include resource="org/springframework/boot/logging/logback/defaults.xml" />
    <property name="LOG_FILE" value="spring-boot-logger.log" />
    <property name="FILE_LOG_PATTERN" value="%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} %M - %msg %n" />
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <layout class="ch.qos.logback.classic.PatternLayout">
            <Pattern>${CONSOLE_LOG_PATTERN}</Pattern>
        </layout>
    </appender>
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_FILE}</file>
        <encoder>
            <pattern>${FILE_LOG_PATTERN}</pattern>
        </encoder>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${LOG_FILE}.%d{yyyy-MM-dd}.%i</fileNamePattern>
            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                <maxFileSize>100MB</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>
        </rollingPolicy>
    </appender>
    <root level="INFO">
        <appender-ref ref="CONSOLE" />
        <appender-ref ref="FILE" />
    </root>
</configuration>
```

这个配置文件定义了日志输出格式、控制台和文件输出，以及滚动策略。

确保在`pom.xml`中包含Spring Boot的Logback依赖（通常是自动包含的）：

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-logging</artifactId>
</dependency>
```

以上配置将设置日志级别，并提供一个基本的Logback配置示例。根据项目需求，可以进一步自定义日志格式和滚动策略。